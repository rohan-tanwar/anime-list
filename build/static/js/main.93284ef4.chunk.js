(this["webpackJsonpmanga-anime-react-assignment"]=this["webpackJsonpmanga-anime-react-assignment"]||[]).push([[0],{11:function(e,n,a){e.exports={wrapper:"App_wrapper__RCHjb",header:"App_header__2L3DO"}},12:function(e,n,a){e.exports={card:"AnimeCard_card__38czu",card_image:"AnimeCard_card_image__XjunC",card_name:"AnimeCard_card_name__Q34Li"}},17:function(e,n,a){e.exports={header:"Header_header__1v0yI",requestInfo:"Header_requestInfo__3SHsZ"}},30:function(e,n,a){e.exports={loader:"Spinner_loader__lEViq",load7:"Spinner_load7__lGcGT"}},5:function(e,n,a){e.exports={mainContainer:"Content_mainContainer__9fp7j",cardContainer:"Content_cardContainer__2Th-S",loadMoreContainer:"Content_loadMoreContainer__1mMIB",loadMoreButton:"Content_loadMoreButton__DUz_2",infoText:"Content_infoText__2y52I"}},63:function(e,n,a){},64:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),c=a(9),i=a.n(c),o=a(11),s=a.n(o),u=a(12),d=a.n(u),l=a(1),j=function(e){var n=e.data;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("a",{href:n.url,className:d.a.card,target:"_",children:[Object(l.jsx)("div",{className:d.a.card_image,children:Object(l.jsx)("img",{loading:"lazy",src:n.image_url,alt:n.title})}),Object(l.jsx)("div",{className:d.a.card_name,children:Object(l.jsx)("span",{children:n.title})})]})})},m=r.a.memo(j),p=a(5),b=a.n(p),h=a(3),f=a(4),v=a.n(f),_=a(7),x=a(29),O=a.n(x).a.create({baseURL:"https://api.jikan.moe/v3"}),g=function(){var e=Object(_.a)(v.a.mark((function e(n){var a,t,r,c=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>1&&void 0!==c[1]?c[1]:1,e.prev=1,!n){e.next=8;break}return e.next=5,O.get("/search/anime?q=".concat(n,"&limit=16&page=").concat(a));case 5:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),y="GET_ANIME",N="SET_ANIME",C="SET_LOADER",L="SET_ERROR",k=function(){return{type:L,payload:!0}},w=function(e){return{type:y,payload:e}},R=function(e){return{type:N,payload:e}},E=a(30),S=a.n(E),T=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:S.a.loader,children:"Loading..."})})},M=function(){var e=Object(h.c)((function(e){return e.animeReducer.animeList})),n=Object(h.c)((function(e){return e.animeReducer.searchWord})),a=Object(h.c)((function(e){return e.animeReducer.pageNumber})),t=Object(h.c)((function(e){return e.animeReducer.lastPageNumber})),r=Object(h.c)((function(e){return e.animeReducer.isLoading})),c=Object(h.c)((function(e){return e.animeReducer.error})),i=Object(h.b)();return Object(l.jsxs)("div",{className:b.a.mainContainer,children:[Object(l.jsx)("div",{className:b.a.cardContainer,children:e.map((function(e){return Object(l.jsx)(m,{data:e},e.mal_id)}))}),Object(l.jsx)("div",{className:b.a.loadMoreContainer,onClick:function(){i(function(e,n){return function(){var a=Object(_.a)(v.a.mark((function a(t){var r,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:C,payload:!0}),a.next=4,g(e,n);case 4:if(r=a.sent){a.next=8;break}return t(k()),a.abrupt("return");case 8:c={animeList:null===r||void 0===r?void 0:r.results,pageNumber:n},t(R(c)),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0),t(k());case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(n,a+1))},children:function(){var n=Object(l.jsx)(T,{});return r||(n=c?Object(l.jsx)("h4",{className:b.a.infoText,children:"Error in fetching data!"}):0===(null===e||void 0===e?void 0:e.length)?Object(l.jsx)("h4",{className:b.a.infoText,children:"Start searching some anime!"}):a!==t?Object(l.jsx)("a",{href:"#!",className:b.a.loadMoreButton,children:"Load more..."}):Object(l.jsx)("h4",{className:b.a.infoText,children:"All data fetched!"})),n}()})]})},A=a(32),I=a(17),q=a.n(I),B=function(){var e=Object(t.useState)(""),n=Object(A.a)(e,2),a=n[0],r=n[1],c=Object(h.b)(),i=function(){a&&c(function(e){return function(){var n=Object(_.a)(v.a.mark((function n(a){var t,r;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:C,payload:!0}),n.next=4,g(e);case 4:if(t=n.sent){n.next=8;break}return a(k()),n.abrupt("return");case 8:r={animeList:null===t||void 0===t?void 0:t.results,keyword:e,lastPage:null===t||void 0===t?void 0:t.last_page},a(w(r)),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0),a(k());case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(a))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:q.a.header,children:[Object(l.jsx)("input",{type:"text",placeholder:"Search for anime",onChange:function(e){return r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&i()}}),Object(l.jsx)("button",{onClick:i,children:"Go"}),Object(l.jsx)("br",{})]}),Object(l.jsxs)("h3",{className:q.a.requestInfo,children:[Object(l.jsx)("span",{children:"Requesting : "})," https://api.jikan.moe/v3/search/anime?q=",a]})]})},P=function(){return Object(l.jsxs)("div",{className:s.a.wrapper,children:[Object(l.jsx)("div",{className:s.a.header,children:Object(l.jsx)(B,{})}),Object(l.jsx)("div",{className:s.a.main,children:Object(l.jsx)(M,{})})]})},D=(a(63),a(6)),G=a(31),H=a(18),z=a(19);function F(e,n){return Object(z.a)(Object(z.a)({},e),n)}var W={animeList:[],searchWord:"",pageNumber:1,isLoading:null,lastPageNumber:null,error:!1},J=function(){var e,n,a,t,r,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case y:return F(c,{animeList:null===(e=i.payload)||void 0===e?void 0:e.animeList,isLoading:!1,searchWord:null===(n=i.payload)||void 0===n?void 0:n.keyword,pageNumber:1,lastPageNumber:null===(a=i.payload)||void 0===a?void 0:a.lastPage,error:!1});case N:return F(c,{animeList:[].concat(Object(H.a)(c.animeList),Object(H.a)(null===(t=i.payload)||void 0===t?void 0:t.animeList)),isLoading:!1,pageNumber:null===(r=i.payload)||void 0===r?void 0:r.pageNumber,error:!1});case C:return F(c,{isLoading:i.payload});case L:return F(c,{error:i.payload,isLoading:!1,animeList:[]});default:return c}},U=Object(D.c)({animeReducer:J}),K=Object(D.d)(U,Object(D.a)(G.a));i.a.render(Object(l.jsx)(h.a,{store:K,children:Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(P,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.93284ef4.chunk.js.map