(this["webpackJsonpmanga-anime-react-assignment"]=this["webpackJsonpmanga-anime-react-assignment"]||[]).push([[0],{11:function(e,a,n){e.exports={wrapper:"App_wrapper__RCHjb",header:"App_header__2L3DO"}},12:function(e,a,n){e.exports={card:"AnimeCard_card__38czu",card_image:"AnimeCard_card_image__XjunC",card_name:"AnimeCard_card_name__Q34Li"}},17:function(e,a,n){e.exports={header:"Header_header__1v0yI",requestInfo:"Header_requestInfo__3SHsZ"}},30:function(e,a,n){e.exports={loader:"Spinner_loader__lEViq",load7:"Spinner_load7__lGcGT"}},5:function(e,a,n){e.exports={mainContainer:"Content_mainContainer__9fp7j",cardContainer:"Content_cardContainer__2Th-S",loadMoreContainer:"Content_loadMoreContainer__1mMIB",loadMoreButton:"Content_loadMoreButton__DUz_2",infoText:"Content_infoText__2y52I"}},63:function(e,a,n){},64:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),c=n(9),i=n.n(c),o=n(11),s=n.n(o),d=n(12),u=n.n(d),l=n(1),j=function(e){var a=e.data;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("a",{href:a.url,className:u.a.card,target:"_",children:[Object(l.jsx)("div",{className:u.a.card_image,children:Object(l.jsx)("img",{loading:"lazy",src:a.image_url,alt:a.title})}),Object(l.jsx)("div",{className:u.a.card_name,children:Object(l.jsx)("span",{children:a.title})})]})})},m=n(5),p=n.n(m),b=n(3),h=n(4),f=n.n(h),_=n(7),O=n(29),v=n.n(O).a.create({baseURL:"https://api.jikan.moe/v3"}),x=function(){var e=Object(_.a)(f.a.mark((function e(a){var n,t,r,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:1,e.prev=1,!a){e.next=8;break}return e.next=5,v.get("/search/anime?q=".concat(a,"&limit=16&page=").concat(n));case 5:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),g="GET_ANIME",y="SET_ANIME",N="SET_LOADER",C="SET_ERROR",L=n(30),k=n.n(L),w=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:k.a.loader,children:"Loading..."})})},R=function(){var e=Object(b.c)((function(e){return e.animeReducer.animeList})),a=Object(b.c)((function(e){return e.animeReducer.searchWord})),n=Object(b.c)((function(e){return e.animeReducer.pageNumber})),t=Object(b.c)((function(e){return e.animeReducer.lastPageNumber})),r=Object(b.c)((function(e){return e.animeReducer.isLoading})),c=Object(b.c)((function(e){return e.animeReducer.error})),i=Object(b.b)();return Object(l.jsxs)("div",{className:p.a.mainContainer,children:[Object(l.jsx)("div",{className:p.a.cardContainer,children:e.map((function(e){return Object(l.jsx)(j,{data:e},e.mal_id)}))}),Object(l.jsx)("div",{className:p.a.loadMoreContainer,onClick:function(){i(function(e,a){return function(){var n=Object(_.a)(f.a.mark((function n(t){var r,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:N,payload:!0}),n.next=3,x(e,a);case 3:if(r=n.sent){n.next=7;break}return t({type:C,payload:!0}),n.abrupt("return");case 7:c={animeList:null===r||void 0===r?void 0:r.results,pageNumber:a},t({type:y,payload:c});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,n+1))},children:r?Object(l.jsx)(w,{}):c?Object(l.jsx)("h4",{className:p.a.infoText,children:"Error in fetching data!"}):0===(null===e||void 0===e?void 0:e.length)?Object(l.jsx)("h4",{className:p.a.infoText,children:"Start searching some anime!"}):n!==t?Object(l.jsx)("a",{href:"#!",className:p.a.loadMoreButton,children:"Load more..."}):Object(l.jsx)("h5",{className:p.a.infoText,children:"All data fetched!"})})]})},E=n(32),S=n(17),T=n.n(S),M=function(){var e=Object(t.useState)(""),a=Object(E.a)(e,2),n=a[0],r=a[1],c=Object(b.b)(),i=function(){n&&c(function(e){return function(){var a=Object(_.a)(f.a.mark((function a(n){var t,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:N,payload:!0}),a.next=3,x(e);case 3:if(t=a.sent){a.next=7;break}return n({type:C,payload:!0}),a.abrupt("return");case 7:r={animeList:null===t||void 0===t?void 0:t.results,keyword:e,lastPage:null===t||void 0===t?void 0:t.last_page},n({type:g,payload:r});case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:T.a.header,children:[Object(l.jsx)("input",{type:"text",placeholder:"Search for anime",onChange:function(e){return r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&i()}}),Object(l.jsx)("button",{onClick:function(e){return i(e.target.value)},children:"Go"}),Object(l.jsx)("br",{})]}),Object(l.jsxs)("h6",{className:T.a.requestInfo,children:[Object(l.jsx)("span",{children:"Requesting : "})," https://api.jikan.moe/v3/search/anime?q=",n]})]})},A=function(){return Object(l.jsxs)("div",{className:s.a.wrapper,children:[Object(l.jsx)("div",{className:s.a.header,children:Object(l.jsx)(M,{})}),Object(l.jsx)("div",{className:s.a.main,children:Object(l.jsx)(R,{})})]})},I=(n(63),n(6)),q=n(31),B=n(18),P=n(19);function D(e,a){return Object(P.a)(Object(P.a)({},e),a)}var G={animeList:[],searchWord:"",pageNumber:1,isLoading:null,lastPageNumber:null,error:!1},H=function(){var e,a,n,t,r,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case g:return D(c,{animeList:null===(e=i.payload)||void 0===e?void 0:e.animeList,isLoading:!1,searchWord:null===(a=i.payload)||void 0===a?void 0:a.keyword,pageNumber:1,lastPageNumber:null===(n=i.payload)||void 0===n?void 0:n.lastPage,error:!1});case y:return D(c,{animeList:[].concat(Object(B.a)(c.animeList),Object(B.a)(null===(t=i.payload)||void 0===t?void 0:t.animeList)),isLoading:!1,pageNumber:null===(r=i.payload)||void 0===r?void 0:r.pageNumber,error:!1});case N:return D(c,{isLoading:i.payload});case C:return D(c,{error:i.payload,isLoading:!1,animeList:[]});default:return c}},z=Object(I.c)({animeReducer:H}),F=Object(I.d)(z,Object(I.a)(q.a));i.a.render(Object(l.jsx)(b.a,{store:F,children:Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(A,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.d88796a7.chunk.js.map