(this["webpackJsonpmanga-anime-react-assignment"]=this["webpackJsonpmanga-anime-react-assignment"]||[]).push([[0],{11:function(e,n,a){e.exports={wrapper:"App_wrapper__RCHjb",header:"App_header__2L3DO"}},12:function(e,n,a){e.exports={card:"AnimeCard_card__38czu",card_image:"AnimeCard_card_image__XjunC",card_name:"AnimeCard_card_name__Q34Li"}},17:function(e,n,a){e.exports={header:"Header_header__1v0yI",requestInfo:"Header_requestInfo__3SHsZ"}},30:function(e,n,a){e.exports={loader:"Spinner_loader__lEViq",load7:"Spinner_load7__lGcGT"}},6:function(e,n,a){e.exports={mainContainer:"Content_mainContainer__9fp7j",cardContainer:"Content_cardContainer__2Th-S",loadMoreContainer:"Content_loadMoreContainer__1mMIB",loadMoreButton:"Content_loadMoreButton__DUz_2",infoText:"Content_infoText__2y52I"}},63:function(e,n,a){},64:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),c=a(9),i=a.n(c),o=a(11),s=a.n(o),d=a(12),u=a.n(d),l=a(1),j=function(e){var n=e.data;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("a",{href:n.url,className:u.a.card,target:"_",children:[Object(l.jsx)("div",{className:u.a.card_image,children:Object(l.jsx)("img",{loading:"lazy",src:n.image_url,alt:n.title})}),Object(l.jsx)("div",{className:u.a.card_name,children:Object(l.jsx)("span",{children:n.title})})]})})},m=a(6),p=a.n(m),b=a(3),h=a(4),f=a.n(h),_=a(7),v=a(29),O=a.n(v).a.create({baseURL:"https://api.jikan.moe/v3"}),x=function(){var e=Object(_.a)(f.a.mark((function e(n){var a,t,r,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>1&&void 0!==c[1]?c[1]:1,e.prev=1,!n){e.next=11;break}return e.next=5,O.get("/search/anime?q=".concat(n,"&limit=16&page=").concat(a));case 5:if(t=e.sent,r=t.data,200===t.status){e.next=10;break}throw new Error("Unable to fetch results!");case 10:return e.abrupt("return",r);case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(1),console.log(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),g="GET_ANIME",y="SET_ANIME",N="SET_LOADER",C=a(30),L=a.n(C),w=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:L.a.loader,children:"Loading..."})})},k=function(){var e=Object(b.c)((function(e){return e.animeReducer.animeList})),n=Object(b.c)((function(e){return e.animeReducer.searchWord})),a=Object(b.c)((function(e){return e.animeReducer.pageNumber})),t=Object(b.c)((function(e){return e.animeReducer.lastPageNumber})),r=Object(b.c)((function(e){return e.animeReducer.isLoading})),c=Object(b.b)();return Object(l.jsxs)("div",{className:p.a.mainContainer,children:[Object(l.jsx)("div",{className:p.a.cardContainer,children:e.map((function(e){return Object(l.jsx)(j,{data:e},e.mal_id)}))}),Object(l.jsx)("div",{className:p.a.loadMoreContainer,onClick:function(){c(function(e,n){return function(){var a=Object(_.a)(f.a.mark((function a(t){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:N,payload:!0}),a.next=3,x(e,n);case 3:r=a.sent,c={animeList:null===r||void 0===r?void 0:r.results,pageNumber:n},t({type:y,payload:c});case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,a+1))},children:r?Object(l.jsx)(w,{}):a!==t?Object(l.jsx)("a",{href:"#!",className:p.a.loadMoreButton,children:"Load more..."}):Object(l.jsx)("h5",{className:p.a.infoText,children:"All data fetched!"})})]})},E=a(32),M=a(17),R=a.n(M),A=function(){var e=Object(t.useState)(""),n=Object(E.a)(e,2),a=n[0],r=n[1],c=Object(b.b)(),i=function(){a&&c(function(e){return function(){var n=Object(_.a)(f.a.mark((function n(a){var t,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:N,payload:!0}),n.next=3,x(e);case 3:t=n.sent,r={animeList:null===t||void 0===t?void 0:t.results,keyword:e,lastPage:null===t||void 0===t?void 0:t.last_page},a({type:g,payload:r});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:R.a.header,children:[Object(l.jsx)("input",{type:"text",placeholder:"Search for anime",onChange:function(e){return r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&i()}}),Object(l.jsx)("button",{onClick:function(e){return i(e.target.value)},children:"Go"}),Object(l.jsx)("br",{})]}),Object(l.jsxs)("h6",{className:R.a.requestInfo,children:[Object(l.jsx)("span",{children:"Requesting : "})," https://api.jikan.moe/v3/search/anime?q=",a]})]})},I=function(){return Object(l.jsxs)("div",{className:s.a.wrapper,children:[Object(l.jsx)("div",{className:s.a.header,children:Object(l.jsx)(A,{})}),Object(l.jsx)("div",{className:s.a.main,children:Object(l.jsx)(k,{})})]})},S=(a(63),a(5)),T=a(31),q=a(18),B=a(19);function P(e,n){return Object(B.a)(Object(B.a)({},e),n)}var D={animeList:[],searchWord:"",pageNumber:1,isLoading:null,lastPageNumber:null},G=function(){var e,n,a,t,r,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case g:return P(c,{animeList:null===(e=i.payload)||void 0===e?void 0:e.animeList,isLoading:!1,searchWord:null===(n=i.payload)||void 0===n?void 0:n.keyword,pageNumber:1,lastPageNumber:null===(a=i.payload)||void 0===a?void 0:a.lastPage});case y:return P(c,{animeList:[].concat(Object(q.a)(c.animeList),Object(q.a)(null===(t=i.payload)||void 0===t?void 0:t.animeList)),isLoading:!1,pageNumber:null===(r=i.payload)||void 0===r?void 0:r.pageNumber});case N:return P(c,{isLoading:i.payload});default:return c}},H=Object(S.c)({animeReducer:G}),z=Object(S.d)(H,Object(S.a)(T.a));i.a.render(Object(l.jsx)(b.a,{store:z,children:Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(I,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.79f90c4b.chunk.js.map